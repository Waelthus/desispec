#!/usr/bin/env python
# coding: utf-8

import argparse

## Import some helper functions, you can see their definitions by uncomenting the bash shell command
from desispec.workflow.create_exposure_tables import create_exposure_tables, opj


parser = argparse.ArgumentParser(usage = "{prog} [options]")
parser.add_argument("-n", "--nights", type=str,  help="nights as comma separated string")
parser.add_argument("--science-types", type=str, default=None, help="comma separated list of exposure types to include in "+\
                                                       "exposure table, e.g. science,arc,flat,dark,zero, ...")
parser.add_argument("-i", "--path-to-data", type=str, default=None, help="input data path")
parser.add_argument("-o","--exp-table-path", type=str, default=None,  help="path to save exposure tables")
parser.add_argument("--overwrite-files", action="store_true", help="overwrite existing exposure tables")
parser.add_argument("--verbose", action="store_true", help="print verbose output")


args = parser.parse_args()

args.nights = [ int(val) for val in args.nights.strip("\n\t ").split(",") ]
if args.science_types is not None:
    args.science_types = [ val.strip('\t ') for val in args.science_types.split(",") ]
print(args.nights)
print(args.science_types)

create_exposure_tables(**args.__dict__)